<html lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FBYDWT403J"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-FBYDWT403J');
  </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-moble-web-app-status-bar-style" content="black-translucent" />

  <meta name="csrf-token" content="vXqNKnW2bbvLKBhahgFJNeE4f6ZkUNOzjRP0PGb1">
  <title>
    沈阳航空航天大学出入登记
  </title>
  <link href="./cc.css" rel="stylesheet" type="text/css">

  <style>
    @-webkit-keyframes pulse {
      50% {
        -webkit-transform: scale3d(1.2, 1.2, 1.2);
        transform: scale3d(1.2, 1.2, 1.2);
      }
    }

    @keyframes pulse {
      50% {
        -webkit-transform: scale3d(1.2, 1.2, 1.2);
        transform: scale3d(1.2, 1.2, 1.2);
      }
    }

    .list-group {
      padding: 1em;
    }

    .list-group-item {
      font-size: 1.1em;
      padding: 0.1em;
      border: 0px;
    }

    .STYLE1 {
      font-size: 20px
    }

    .STYLE2 {
      color: #666666
    }

    input {
      background-color: transparent;
      border: none;
      outline: none;
      color: inherit;
      font-weight: inherit;
      text-align: inherit;
    }

    p {
      outline: none;
    }

    .textInp {
      width: 100%;
      color: #fff !important;
      font-weight: 700 !important;
      margin: 0;
      padding: 0;
    }

    *:disabled {
      color: white !important;
      opacity: 1;
    }
  </style>

</head>

<body>
  <div id="app">
    <div class="card border-0 text-center" style="color: #66CAFB">
      <div class="card-body">
        <h2 class="card-title" style="font-size: 1.8em;">沈航学生进门登记</h2>

        <i class="animated infinite pulse fa p-4">
          <div class="box">
            <p class="editable" contenteditable="true" class="word">806751</p>
            <img contenteditable="false" ondblclick="disableInp()" src="./cc8.png">
          </div>
        </i>
        <p id="time-text" class="card-text" ondblclick="getTime()" style="font-size: 1.4em;">
          时间：2020-09-26 15:40:59 </p>
        <p class="card-text editable" style="font-size: 1.4em;" contenteditable="true">今日第1次使用进门</p>

        <p class="card-text" style="font-size: 1.4em;"> </p>
      </div>
    </div>
    <ul class="list-group list-group-flush" style="background-color: #07c160">
      <li class="list-group-item bg-transparent d-flex text-white font-weight-bold">
        <div style="min-width: 4em; text-align-last: justify;">
          姓名
        </div>
        ：
        <div>
          <input class="textInp" type="text" value="张伟" id="name">
        </div>
      </li>
      <li class="list-group-item bg-transparent d-flex text-white font-weight-bold">
        <div style="min-width: 4em; text-align-last: justify;">
          学号
        </div>
        ：
        <div>
          <input class="textInp" type="text" value="173401010101" id="no">
        </div>
      </li>
      <li class="list-group-item bg-transparent d-flex text-white font-weight-bold">
        <div style="min-width: 4em; text-align-last: justify;">
          体温
        </div>
        ：
        <div>
          <input class="textInp" type="text" value="36.1">
        </div>
      </li>
      <li class="list-group-item bg-transparent d-flex text-white font-weight-bold">
        <div style="min-width: 4em; text-align-last: justify;">
          电话
        </div>
        ：
        <div>
          <input class="textInp" type="text" value="13889346130" id="phone">
        </div>
      </li>
      <li class="list-group-item bg-transparent d-flex text-white font-weight-bold">
        <div style="min-width: 4em; text-align-last: justify;">
          有效期限
        </div>
        ：
        <div>
          <input class="textInp" type="text" value="2020-10-01--2020-10-06" id="date-range">
        </div>
      </li>
      <li class="list-group-item bg-transparent d-flex text-white font-weight-bold">
        <div style="min-width: 4em; text-align-last: justify;">
          联系人
        </div>
        ：
        <div>
          <input class="textInp" type="text" value="张伟" id="con-name">
        </div>
      </li>
    </ul>
  </div>
  <div class="STYLE1">
    <div align="center" class="STYLE2">
      信息网络中心提供相关技术支持
    </div>
  </div>
  <script>
    function getTime() {
      var time = new Date();
      document.getElementById('time-text').innerHTML = "时间：" + time.getFullYear() + "-" + (time.getMonth() < 10 ?
        ('0' + (time.getMonth() + 1)) : time.getMonth() + 1) +
        "-" + (time.getDate() < 10 ? ('0' + time.getDate()) : time.getDate()) + " " + time.toTimeString()
          .substr(0, 9)
    }
    getTime()

    function getDateRange() {
      var time = new Date();
      var dateStr = time.getFullYear() + "-" + (time.getMonth() < 10 ?
        ('0' + (time.getMonth() + 1)) : time.getMonth() + 1) +
        "-" + (time.getDate() < 10 ? ('0' + time.getDate()) : time.getDate())
      document.getElementById('date-range').value = dateStr + "--" + dateStr
    }
    getDateRange()

    function disableInp() {
      for (let e of document.getElementsByTagName('input')) {
        e.disabled = true
      }
      for (let e of document.getElementsByClassName('editable')) {
        e.contentEditable = false
      }
    }
    if (localStorage.getItem("name") != null) {
      document.getElementById('name').value = localStorage.getItem("name")
      document.getElementById('con-name').value = localStorage.getItem("name")
    }
    if (localStorage.getItem("no") != null) {
      document.getElementById('no').value = localStorage.getItem("no")
    }
    if (localStorage.getItem("phone") != null) {
      document.getElementById('phone').value = localStorage.getItem("phone")
    }

    document.getElementById('name').onchange = (e) => {
      console.log("name")
      localStorage.setItem('name', document.getElementById('name').value)
    }
    document.getElementById('no').onchange = (e) => {
      localStorage.setItem('no', document.getElementById('no').value)
    }
    document.getElementById('phone').onchange = (e) => {
      localStorage.setItem('phone', document.getElementById('phone').value)
    }
  </script>
</body>

</html>